*** Settings ***
Documentation     This is high level keywords that will be used by local test cases
Resource          messages.txt
Resource          context.txt
Library           com.automic.robot.itpa.ItpaLibrary

*** Key Words ***
Create data test
    Init Target Server
    Download datatest    /testdata/PCK.AUTOMIC_SOLARIS
    
Download datatest
    [Arguments]    ${path}
    Action Connect    ${_AE_HOST}    ${_AE_PORT}    ${_AE_USER}    ${_AE_PASS}    ${_AE_TEMP_FOLD}
    Init Action    PCK.AUTOMIC_FTP.PUB.ACTION.GET
    Action Set    &UC4RB_FTP_HOST#    vvni01
    Action Set    &UC4RB_FTP_USER#    administrator
    Action Set    &UC4RB_FTP_PWD#    S3rv3r@Aut
    Action Set    &UC4RB_FTP_TGT_OVERWRITE#    YES
    Action Set    &UC4RB_FTP_SOURCE_FILES#    ${path}
    Action Set    &UC4RB_FTP_TGT_FILES_DIR#    ${_WORKING_DIR}
    Action Set    &UC4RB_FTP_RECURSIVE_GET#    YES
    Action Set    &UC4RB_FTP_PROTOCOL#    FTP
    Action Set    &UC4RB_FTP_CONNECT_TIMEOUT#    5000
    Action Set    &UC4RB_FTP_TR_MODE#    BINARY
    Action Execute

Suite Setup
    Init Target Server
    Init AE And Package

Init Action
    [Arguments]    ${actionName}
    Action Create    ${actionName}
    Action Set    ${PROMPTSET_AGENT}    ${_AGENT}
    Action Set    ${PROMPTSET_LOGIN}    ${_LOGIN}

Action Report Should Contain
    [Arguments]    ${text}
    ${report} =    Action Get Report
    Should Contain    ${report}    ${text}

Action Report Should Be Found
    ${report} =    Action Get Report
    Should Not Be Empty    ${report}

Action Report Should Not Be Found
    ${report} =    Action Get Report
    Should Be Empty    ${report}

Action Return Code Should Be
    [Arguments]    ${code}
    ${returnCode}=    Action Get Variable    Return code
    Should Be Equal    ${returnCode}    ${code}

Action Return Code Should Not Equal
    [Arguments]    ${code}
    ${returnCode}=    Action Get Variable    Return code
    Should Not Be Equal    ${returnCode}    ${code}

Action Return Status Should Be
    [Arguments]    ${status}
    ${returnStatus}=    Action Get Variable    Status
    Should Be Equal    ${returnStatus}    ${status}

Action Return Variable Should Be
    [Arguments]    ${variableValue}
    ${out}=    Action Get Variable    ${variableName}
    Should Be Equal    ${out}    ${variableValue}

Action Return Variable Should Be Equal As Integers
    [Arguments]    ${variableValue}
    ${out}=    Action Get Variable    ${variableName}
    Should Be Equal As Integers    ${out}    ${variableValue}
